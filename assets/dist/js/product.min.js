var table;function domReady(){"index"==ROUTER_METHOD&&renderDataTable(),"add"!=ROUTER_METHOD&&"edit"!=ROUTER_METHOD||initCKEditor()}function initCKEditor(){"undefined"!=typeof CKEDITOR&&CKEDITOR.replace("product_description")}function renderDataTable(){table=$("#product-datatable").DataTable({processing:!0,serverSide:!0,order:[],ajax:{url:SITE_URL+ROUTER_DIRECTORY+ROUTER_CLASS+"/render_datatable"},columnDefs:[{targets:[-1],orderable:!1}]})}function deleteUploadedFiles(e){e.preventDefault();var t=$(this),a=t.parents(".file-container"),d=t;if(1!=confirm("Are you sure you want to delete this file?\n"))return!1;var i=t.attr("data-upload_id"),n=t.attr("data-path"),r=new Ajax;r.type="POST",r.url=SITE_URL+ROUTER_DIRECTORY+ROUTER_CLASS+"/delete_file",r.data={id:i,file_path:n};var l=r.init();l.done(function(e){"success"==e&&a.remove()}),l.fail(function(){alert("Failed")}),l.always(function(){d.html("Delete")})}$(domReady),$(".btn-delete-file").on("click",deleteUploadedFiles);